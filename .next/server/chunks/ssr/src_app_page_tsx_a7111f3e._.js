module.exports=[40777,a=>{"use strict";a.s(["default",()=>n],40777);var b=a.i(62255),c=a.i(39059),d=a.i(76108),e=a.i(87031),f=(0,e.createServerReference)("400ed582120dec711b2af961cae2a9c0aba8745cea",e.callServer,void 0,e.findSourceMapURL,"RemoveUserServerAction"),g=a.i(23488),h=a.i(2042),i=a.i(68003);function j(a,b){let c=new Date(a);return c.setDate(c.getDate()+b),c}var k=a.i(54744);function l({people:a}){let c=(0,g.useRouter)(),e=(0,h.useDispatch)(),l=a.map(a=>a.createdAt).reduce((a,b)=>b.getTime()<=a?b.getTime():a,1/0),m=a.map(a=>a.createdAt).reduce((a,b)=>b.getTime()>=a?b.getTime():a,0);l=l==1/0?j(new Date,-30).getTime():l,m=0==m?j(new Date,1).getTime():m;let n=a.map(a=>({_id:a.id,nationalId:a.nationalId,FullName:a.FullName,investorTotalMoney:a.investments.reduce((a,b)=>a+b.investmentAmount,0).toString(),refferalCount:a.referrers.length,phoneNumber:a.phoneNumber||"",bankAccount:a.bankAccounts.reduce((a,b)=>`${a},${b.number}`,"")||"",referrerNationalId:a.parentReferrerId||"",date:a.createdAt.toISOString(),url:`/panel/${a.nationalId}/invest`}));return(0,b.jsx)(d.default,{headers:[{value:"nationalId",title:"کد ملی"},{value:"FullName",title:"نام و نام خانوادگی"},{value:"investorTotalMoney",title:"مجموع سرمایه"},{value:"refferalCount",title:"تعداد افراد معرفی شده"},{value:"phoneNumber",title:"شماره تماس"},{value:"referrerNationalId",title:"کد ملی معرف"},{value:"date",title:"تاریخ عضویت"},{value:"bankAccount",title:"account-number"},{value:"url",title:"url"},{value:"_id",title:"id"}],data:n,ignoreColumnsToShow:["bankAccount"],isShowAddButton:!0,isShowEditButton:!0,isShowRemoveButton:!0,isShowProfile:!0,editFunction:a=>{e((0,i.SetDialogOpen)(!0)),e((0,i.SetDialogType)("EDIT_PERSON")),e((0,i.setDialogObjectId)(a))},addFunction:()=>{e((0,i.SetDialogOpen)(!0)),e((0,i.SetDialogType)("ADD_PERSON"))},removeFunction:async a=>{await f(a),e((0,k.makeForceUpdate)()),c.refresh()},onRowClick:()=>{},goProfileFunction:b=>{window.location.href=`/panel/${a.filter(a=>a.id==b)[0].nationalId}/invest`},filters:[{title:"کد ملی",columnId:"nationalId"},{title:"نام و نام خانوادگی",columnId:"FullName"},{title:"شماره حساب",columnId:"bankAccount"},{title:"میزان سرمایه",columnId:"investorTotalMoney"}],dateFilter:{start_date:new Date(l),end_date:new Date(m)}})}var m=(0,e.createServerReference)("004217b0c933fa03788e28c106b06ec042e39ba131",e.callServer,void 0,e.findSourceMapURL,"GetAllPeople");function n(){let[a,d]=(0,c.useState)([]),e=(0,h.useSelector)(a=>a.panel.ForceUpdate);return(0,c.useEffect)(()=>{m().then(d)},[e]),(0,b.jsx)(l,{people:a})}}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map