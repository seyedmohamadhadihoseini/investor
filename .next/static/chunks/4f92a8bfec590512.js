(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>v],52683);var t=e.i(85719),a=e.i(94543),n=e.i(62899),o=e.i(25416),i=(0,o.createServerReference)("400ed582120dec711b2af961cae2a9c0aba8745cea",o.callServer,void 0,o.findSourceMapURL,"RemoveUserServerAction"),l=e.i(95151),r=e.i(44634),c=e.i(80271);function u(e,t){let a=new Date(e);return a.setDate(a.getDate()+t),a}var d=e.i(22372);function s(e){let{people:a}=e,o=(0,l.useRouter)(),s=(0,r.useDispatch)(),m=a.map(e=>e.createdAt).reduce((e,t)=>t.getTime()<=e?t.getTime():e,1/0),v=a.map(e=>e.createdAt).reduce((e,t)=>t.getTime()>=e?t.getTime():e,0);m=m==1/0?u(new Date,-30).getTime():m,v=0==v?u(new Date,1).getTime():v;let f=a.map(e=>({_id:e.id,nationalId:e.nationalId,FullName:e.FullName,investorTotalMoney:e.investments.reduce((e,t)=>e+t.investmentAmount,0).toString(),refferalCount:e.referrers.length,phoneNumber:e.phoneNumber||"",bankAccount:e.bankAccounts.reduce((e,t)=>"".concat(e,",").concat(t.number),"")||"",referrerNationalId:e.parentReferrerId||"",date:e.createdAt.toISOString(),url:"/panel/".concat(e.nationalId,"/invest")}));return(0,t.jsx)(n.default,{headers:[{value:"nationalId",title:"کد ملی"},{value:"FullName",title:"نام و نام خانوادگی"},{value:"investorTotalMoney",title:"مجموع سرمایه"},{value:"refferalCount",title:"تعداد افراد معرفی شده"},{value:"phoneNumber",title:"شماره تماس"},{value:"referrerNationalId",title:"کد ملی معرف"},{value:"date",title:"تاریخ عضویت"},{value:"bankAccount",title:"account-number"},{value:"url",title:"url"},{value:"_id",title:"id"}],data:f,ignoreColumnsToShow:["bankAccount"],isShowAddButton:!0,isShowEditButton:!0,isShowRemoveButton:!0,isShowProfile:!0,editFunction:e=>{s((0,c.SetDialogOpen)(!0)),s((0,c.SetDialogType)("EDIT_PERSON")),s((0,c.setDialogObjectId)(e))},addFunction:()=>{s((0,c.SetDialogOpen)(!0)),s((0,c.SetDialogType)("ADD_PERSON"))},removeFunction:async e=>{await i(e),s((0,d.makeForceUpdate)()),o.refresh()},onRowClick:()=>{},goProfileFunction:e=>{window.location.href="/panel/".concat(a.filter(t=>t.id==e)[0].nationalId,"/invest")},filters:[{title:"کد ملی",columnId:"nationalId"},{title:"نام و نام خانوادگی",columnId:"FullName"},{title:"شماره حساب",columnId:"bankAccount"},{title:"میزان سرمایه",columnId:"investorTotalMoney"}],dateFilter:{start_date:new Date(m),end_date:new Date(v)}})}var m=(0,o.createServerReference)("004217b0c933fa03788e28c106b06ec042e39ba131",o.callServer,void 0,o.findSourceMapURL,"GetAllPeople");function v(){let[e,n]=(0,a.useState)([]),o=(0,r.useSelector)(e=>e.panel.ForceUpdate);return(0,a.useEffect)(()=>{m().then(n)},[o]),(0,t.jsx)(s,{people:e})}}]);